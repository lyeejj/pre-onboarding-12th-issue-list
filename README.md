# Issue-list Assignment

íŠ¹ì • Github Repository([facebook/react](https://github.com/facebook/react/issues))ì˜ ì´ìŠˆëª©ë¡ê³¼ ìƒì„¸ë‚´ìš©ì„ í™•ì¸í•˜ëŠ” ì›¹ì‚¬ì´íŠ¸

## ì‹¤í–‰ ë°©ë²•

```jsx
npm install
npm start
```

## ì‹¤í–‰ í™”ë©´

<img width='680px' src='https://github.com/lyeejj/pre-onboarding-issue-list/assets/72495998/176c9c90-8a73-4d27-95e0-90fc071bdfb2' alt='ê³¼ì œ ì‹¤í–‰ í™”ë©´' />

## ì£¼ìš” ê¸°ëŠ¥

- ì´ìŠˆ ëª©ë¡ ë° ìƒì„¸ í™”ë©´ ê¸°ëŠ¥ êµ¬í˜„
- ë°ì´í„° ìš”ì²­ ì¤‘ ë¡œë”© í‘œì‹œ ë° ë¬´í•œìŠ¤í¬ë¡¤ ê¸°ëŠ¥ êµ¬í˜„
- ì§€ì •ëœ ì¡°ê±´ì— ë§ê²Œ ë°ì´í„° ìš”ì²­ ë° í‘œì‹œ (open ìƒíƒœ, ì½”ë©˜íŠ¸ ë§ì€ ìˆœìœ¼ë¡œ ì •ë ¬)
- ìƒì„¸ í™”ë©´ì—ì„œì˜ markdown ë³€í™˜
- ì´ìŠˆ ê°œìˆ˜ë§ˆë‹¤ ê´‘ê³  ë°°ë„ˆ í‘œì‹œ

## ê¸°ìˆ  ìŠ¤íƒ ë° ì‚¬ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬

ê¸°ìˆ  ìŠ¤íƒ :
<img src="https://img.shields.io/badge/React-61DAFB?style=flat-square&logo=React&logoColor=white"/>
<img src="https://img.shields.io/badge/TypeScript-3178C6?style=flat-square&logo=TypeScript&logoColor=white"/>
<img src="https://img.shields.io/badge/SCSS-CC6699?style=flat-square&logo=Sass&logoColor=white"/>
<img src="https://img.shields.io/badge/eslint-4B32C3?style=flat-square&logo=eslint&logoColor=white"/>
<img src="https://img.shields.io/badge/prettier-F7B93E?style=flat-square&logo=prettier&logoColor=white"/>

ì¶”ê°€ ë¼ì´ë¸ŒëŸ¬ë¦¬ : react-router-dom, octokit, react-markdown

## í´ë” êµ¬ì¡°

```
ğŸ“¦src
 â”£ ğŸ“‚api // Octokitì„ ì‚¬ìš©í•œ api ê´€ë¦¬
 â”ƒ â”— ğŸ“œapi.ts
 â”£ ğŸ“‚components // ê³µí†µ ì»´í¬ë„ŒíŠ¸ ê´€ë¦¬
 â”ƒ â”£ ğŸ“‚AdBanner // ê´‘ê³  ë°°ë„ˆ ì»´í¬ë„ŒíŠ¸
 â”ƒ â”ƒ â”— ğŸ“œindex.tsx
 â”ƒ â”£ ğŸ“‚IssueItem // ì´ìŠˆ ì•„ì´í…œ ì»´í¬ë„ŒíŠ¸
 â”ƒ â”ƒ â”— ğŸ“œindex.tsx
 â”ƒ â”— ğŸ“‚layout // ë ˆì´ì•„ì›ƒ, ë¡œë”©ìŠ¤í”¼ë„ˆ ì»´í¬ë„ŒíŠ¸
 â”ƒ â”ƒ â”£ ğŸ“œLayout.tsx
 â”ƒ â”ƒ â”— ğŸ“œSpinner.tsx
 â”£ ğŸ“‚pages // í˜ì´ì§€ ê´€ë¦¬
 â”ƒ â”£ ğŸ“œErrorPage.tsx
 â”ƒ â”£ ğŸ“œIssueDetail.tsx
 â”ƒ â”£ ğŸ“œIssueList.tsx
 â”ƒ â”— ğŸ“œNotFoundPage.tsx
 â”£ ğŸ“‚styles // ìŠ¤íƒ€ì¼ ê´€ë¦¬
 â”ƒ â”£ ğŸ“œAdBanner.module.scss
 â”ƒ â”£ ğŸ“œIssueDetail.module.scss
 â”ƒ â”£ ğŸ“œIssueItem.module.scss
 â”ƒ â”£ ğŸ“œLayout.module.scss
 â”ƒ â”£ ğŸ“œSpinner.module.scss
 â”ƒ â”— ğŸ“œreset.scss
 â”£ ğŸ“‚types // íƒ€ì… ê´€ë¦¬
 â”ƒ â”— ğŸ“œissueList.interface.ts
 â”£ ğŸ“‚utils // ìƒìˆ˜, ìœ í‹¸í•¨ìˆ˜ ê´€ë¦¬
 â”ƒ â”£ ğŸ“œconstants.ts
 â”ƒ â”— ğŸ“œgetDate.ts
 â”£ ğŸ“œApp.tsx // ë¼ìš°í„° ê´€ë¦¬
 â”£ ğŸ“œdeclaration.d.ts
 â”— ğŸ“œindex.tsx
```

## êµ¬í˜„ ì½”ë“œ

### 1. API

```ts
import { Octokit } from 'octokit';
import { API_INFO } from '../utils/constants';

const octokit = new Octokit();

export const getIssueList = async (page: number) => {
	const res = await octokit.request('GET /repos/{owner}/{repo}/issues', {
		owner: API_INFO.OWNER,
		repo: API_INFO.REPO,
		state: 'open',
		sort: 'comments',
		per_page: 30,
		page,
	});
	return res.data;
};

export const getIssueDetail = async (issue_number: number) => {
	const res = await octokit.request('GET /repos/{owner}/{repo}/issues/{issue_number}', {
		owner: API_INFO.OWNER,
		repo: API_INFO.REPO,
		issue_number,
	});
	return res.data;
};
```

- Github ë¦¬í¬ì§€í† ë¦¬ì™€ ìƒí˜¸ì‘ìš©í•˜ê¸° ìœ„í•´ Octokit API ê¸°ë°˜ ë¹„ë™ê¸° í†µì‹ 
- getIssueList, getIssueDetailë¡œ í•¨ìˆ˜ë¥¼ ëª¨ë“ˆí™”í•˜ì—¬ ê´€ë¦¬

### 2. ë¬´í•œ ìŠ¤í¬ë¡¤

```tsx
function IssueList() {
	// ìƒëµ...
	const observerRef = useRef<any>(null);

	useEffect(() => {
		const observer = new IntersectionObserver(
			entries => {
				if (entries[0].isIntersecting) {
					setPageNumber(prev => prev + 1);
				}
			},
			{ threshold: 1 },
		);
		if (observerRef.current) {
			observer.observe(observerRef.current);
		}

		return () => {
			observer.disconnect();
		};
	}, [list]);

	if (loading) return <Spinner />;

	return (
		<>
			<ul>
				{list.map((item, index) => (
					<Fragment key={item.id}>
						<IssueItem item={item} />
						{(index + 1) % 4 === 0 && <AdBanner />}
					</Fragment>
				))}
			</ul>
			<div ref={observerRef}>
				<Spinner scroll />
			</div>
		</>
	);
}
```

- IntersectionObserver APIë¥¼ ì´ìš©í•˜ì—¬ ë¬´í•œ ìŠ¤í¬ë¡¤ ê¸°ëŠ¥ êµ¬í˜„
- ë§ˆì§€ë§‰ ìš”ì†Œê°€ ê´€ì°°ì´ ë˜ì—ˆì„ë•Œ í•„ìš”í•œ ë‹¤ìŒ ìš”ì²­ì„ ë³´ë‚´ëŠ” ë°©ì‹

### 3. ë§ˆí¬ë‹¤ìš´ í‘œì‹œ

```tsx
import ReactMarkdown from 'react-markdown';
// ìƒëµ...
function IssueDetail() {
	const [detail, setDetail] = useState<IssueListType>();
	const [loading, setLoading] = useState<boolean>(true);
	const { issue_number } = useParams();
	const navigate = useNavigate();

	// ìƒëµ...

	return (
		<>
			{detail && (
				<>
					<div className={styles['detail-info']}>
						<img src={detail.user?.avatar_url} alt="user-avatar-img" />
						<IssueItem item={detail} key={detail.id} />
					</div>
					<div className={styles['markdown-container']}>
						<ReactMarkdown>{detail.body}</ReactMarkdown>
					</div>
				</>
			)}
		</>
	);
}
```

- react-markdown ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ì˜ ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜
